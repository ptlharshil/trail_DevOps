{"version":3,"file":"DatePicker-eb1dd2e7.js","sources":["../src/DatePicker/DatePickerToolbar.tsx","../src/DatePicker/DatePicker.ts"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PickerToolbar from '../_shared/PickerToolbar';\nimport { DatePickerView } from './DatePicker';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { withDefaultProps } from '../_shared/withDefaultProps';\nimport { ToolbarComponentProps } from '../Picker/SharedPickerProps';\nimport { isYearAndMonthViews, isYearOnlyView } from '../_helpers/date-utils';\n\nconst muiPickersComponentConfig = { name: 'MuiPickersDatePickerToolbar' };\n\nexport const useStyles = makeStyles(\n  {\n    root: {},\n    dateTitleLandscape: {\n      margin: 'auto 16px auto auto',\n    },\n    penIcon: {\n      position: 'relative',\n      top: 4,\n    },\n  },\n  muiPickersComponentConfig\n);\n\nexport const DatePickerToolbar: React.FC<ToolbarComponentProps> = withDefaultProps(\n  muiPickersComponentConfig,\n  ({\n    date,\n    views,\n    isLandscape,\n    isMobileKeyboardViewOpen,\n    toggleMobileKeyboardView,\n    toolbarFormat,\n    onChange,\n    toolbarPlaceholder = '––',\n    toolbarTitle = 'SELECT DATE',\n    ...other\n  }) => {\n    const utils = useUtils();\n    const classes = useStyles();\n\n    const dateText = React.useMemo(() => {\n      if (!date) {\n        return toolbarPlaceholder;\n      }\n\n      if (toolbarFormat) {\n        return utils.formatByString(date, toolbarFormat);\n      }\n\n      if (isYearOnlyView(views as DatePickerView[])) {\n        return utils.format(date, 'year');\n      }\n\n      if (isYearAndMonthViews(views as DatePickerView[])) {\n        return utils.format(date, 'month');\n      }\n\n      // Little localization hack (Google is doing the same for android native pickers):\n      // For english localization it is convenient to include weekday into the date \"Mon, Jun 1\"\n      // For other locales using strings like \"June 1\", without weekday\n      return /en/.test(utils.getCurrentLocaleCode())\n        ? utils.format(date, 'normalDateWithWeekday')\n        : utils.format(date, 'normalDate');\n    }, [date, toolbarFormat, toolbarPlaceholder, utils, views]);\n\n    return (\n      <PickerToolbar\n        className={classes.root}\n        toolbarTitle={toolbarTitle}\n        isMobileKeyboardViewOpen={isMobileKeyboardViewOpen}\n        toggleMobileKeyboardView={toggleMobileKeyboardView}\n        isLandscape={isLandscape}\n        penIconClassName={classes.penIcon}\n        {...other}\n      >\n        <Typography\n          variant=\"h4\"\n          data-mui-test=\"datepicker-toolbar-date\"\n          align={isLandscape ? 'left' : 'center'}\n          className={clsx({ [classes.dateTitleLandscape]: isLandscape })}\n        >\n          {dateText}\n        </Typography>\n      </PickerToolbar>\n    );\n  }\n);\n","import { useUtils } from '../_shared/hooks/useUtils';\nimport { DatePickerToolbar } from './DatePickerToolbar';\nimport { WithViewsProps } from '../Picker/SharedPickerProps';\nimport { ResponsiveWrapper } from '../wrappers/ResponsiveWrapper';\nimport { useParsedDate, OverrideParsableDateProps } from '../_shared/hooks/date-helpers-hooks';\nimport { ExportedCalendarViewProps } from '../views/Calendar/CalendarView';\nimport { MobileWrapper, DesktopWrapper, StaticWrapper, SomeWrapper } from '../wrappers/Wrapper';\nimport { makeValidationHook, ValidationProps } from '../_shared/hooks/useValidation';\nimport { ParsableDate, defaultMinDate, defaultMaxDate } from '../constants/prop-types';\nimport {\n  makePickerWithStateAndWrapper,\n  AllPickerProps,\n  SharedPickerProps,\n} from '../Picker/makePickerWithState';\nimport { getFormatAndMaskByViews, DateValidationError, validateDate } from '../_helpers/date-utils';\n\nexport type DatePickerView = 'year' | 'date' | 'month';\n\nexport interface BaseDatePickerProps<TDate>\n  extends WithViewsProps<'year' | 'date' | 'month'>,\n    ValidationProps<DateValidationError, ParsableDate>,\n    OverrideParsableDateProps<TDate, ExportedCalendarViewProps<TDate>, 'minDate' | 'maxDate'> {}\n\nconst datePickerConfig = {\n  useValidation: makeValidationHook<\n    DateValidationError,\n    ParsableDate,\n    BaseDatePickerProps<unknown>\n  >(validateDate),\n  DefaultToolbarComponent: DatePickerToolbar,\n  useInterceptProps: ({\n    openTo = 'date',\n    views = ['year', 'date'],\n    minDate: __minDate = defaultMinDate,\n    maxDate: __maxDate = defaultMaxDate,\n    ...other\n  }: AllPickerProps<BaseDatePickerProps<unknown>>) => {\n    const utils = useUtils();\n    const minDate = useParsedDate(__minDate);\n    const maxDate = useParsedDate(__maxDate);\n\n    return {\n      views,\n      openTo,\n      minDate,\n      maxDate,\n      ...getFormatAndMaskByViews(views, utils),\n      ...other,\n    };\n  },\n};\n\ntype DatePickerComponent<TWrapper extends SomeWrapper> = <TDate>(\n  props: BaseDatePickerProps<TDate> & SharedPickerProps<TDate, TWrapper>\n) => JSX.Element;\n\nexport const DatePicker = makePickerWithStateAndWrapper<BaseDatePickerProps<unknown>>(\n  ResponsiveWrapper,\n  {\n    name: 'MuiDatePicker',\n    ...datePickerConfig,\n  }\n) as DatePickerComponent<typeof ResponsiveWrapper>;\n\nexport type DatePickerProps = React.ComponentProps<typeof DatePicker>;\n\nexport const MobileDatePicker = makePickerWithStateAndWrapper<BaseDatePickerProps<unknown>>(\n  MobileWrapper,\n  {\n    name: 'MuiMobileDatePicker',\n    ...datePickerConfig,\n  }\n) as DatePickerComponent<typeof MobileWrapper>;\n\nexport type MobileDatePickerProps = React.ComponentProps<typeof MobileDatePicker>;\n\nexport const DesktopDatePicker = makePickerWithStateAndWrapper<BaseDatePickerProps<unknown>>(\n  DesktopWrapper,\n  {\n    name: 'MuiDesktopDatePicker',\n    ...datePickerConfig,\n  }\n);\n\nexport type DesktopDatePickerProps = React.ComponentProps<typeof DesktopDatePicker>;\n\nexport const StaticDatePicker = makePickerWithStateAndWrapper<BaseDatePickerProps<unknown>>(\n  StaticWrapper,\n  {\n    name: 'MuiStaticDatePicker',\n    ...datePickerConfig,\n  }\n) as DatePickerComponent<typeof StaticWrapper>;\n\nexport type StaticDatePickerProps = React.ComponentProps<typeof StaticDatePicker>;\n"],"names":["muiPickersComponentConfig","name","useStyles","makeStyles","root","dateTitleLandscape","margin","penIcon","position","top","DatePickerToolbar","withDefaultProps","date","views","isLandscape","isMobileKeyboardViewOpen","toggleMobileKeyboardView","toolbarFormat","onChange","toolbarPlaceholder","toolbarTitle","other","utils","useUtils","classes","dateText","React","formatByString","isYearOnlyView","format","isYearAndMonthViews","test","getCurrentLocaleCode","React.createElement","clsx","datePickerConfig","useValidation","makeValidationHook","validateDate","DefaultToolbarComponent","useInterceptProps","openTo","minDate","__minDate","defaultMinDate","maxDate","__maxDate","defaultMaxDate","useParsedDate","getFormatAndMaskByViews","DatePicker","makePickerWithStateAndWrapper","ResponsiveWrapper","MobileDatePicker","MobileWrapper","DesktopDatePicker","DesktopWrapper","StaticDatePicker","StaticWrapper"],"mappings":"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"}